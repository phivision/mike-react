type UserProfile @model @searchable
@auth(rules: [{ allow: owner, operations: [create, delete, update] },
  { allow: private, operations: [read]},
  { allow: public, provider: iam, operations: [read]}])
@key(name: "bySubscription", fields: ["StripeID"])
{
  id: ID!
  Birthday: AWSDate
  Email: AWSEmail
  Gender: String
  Height: Float
  Price: Float
  RegDate: String!
  StripeID: String
  UserImage: String
  BgImage: String
  BgTitle: String
  LastName: String
  FirstName: String
  UserRole: String!
  Weight: Float
  Description: String
  Biography: String
  """
  A list of user's favorite contents
  """
  Favorites: [UserContent] @connection
  """
  A list of contents generated by the user aka the creator or trainer
  """
  Contents: [UserContent] @connection(keyName: "byCreator", fields: ["id"])
  """
  A list of subscriptions which is being paid or has been paid by the user
  """
  Subscriptions: [UserProfile] @connection(keyName: "bySubscription", fields: ["StripeID"])
}

type UserContent @model
@auth(rules: [{ allow: owner, operations: [create, delete, update] },
  { allow: private, operations: [read]},
  { allow: public, provider: iam, operations: [read]}])
@key(name: "byCreator", fields: ["CreatorID"])
{
  id: ID!
  """
  The ID of the user who created and own this content
  """
  CreatorID: ID!
  ContentName: String!
  Description: String
  """
  The level indicates the difficulty of the training course, e.g. 1 => easy, 2=> medium, 3=>hard
  """
  Level: Int
  Length: Float
  IsDemo: Boolean
  ViewCount: Int
  Thumbnail: String
  Preview: String
  Creator: UserProfile @connection(fields: ["CreatorID"])
}